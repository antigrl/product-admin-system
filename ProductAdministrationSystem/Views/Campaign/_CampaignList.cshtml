@model IEnumerable<PAS.Models.Campaign>
@using PAS.Models;
@using PAS.Helpers;

@if (Model.Any() && Model != null)
{
    <table datatable="">
        <thead>
            <tr>
                <th>Campaign Name</th>
                <th>Product Count</th>
                <th>Status</th>
                <th>Created On</th>
                <th>Action</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model)
            {
            <tr>
                <td class="campaign-name">
                    @Html.DisplayFor(model => item.CampaignName)
                </td>
                <td>
                    @item.Products.Where(p => p.ProductStatus != MyExtensions.GetEnumDescription(Status.Archived)).Count()
                </td>
                <td class="status">
                    @Html.DisplayFor(model => item.CampaignStatus)
                </td>
                <td>
                    @Html.DisplayFor(model => item.CampaignCreatedOnDate)
                </td>
                <td class="action-icons">
                    <ul>
                        <li>
                            <a class="edit-btn" href="@Url.Action("Edit", "Campaign", new { ReturnUrl = Url.Action("Index", "Home"), id = item.CampaignID }, null)"><i class="fa fa-pencil-square-o"></i></a>
                        </li>
                        <li>
                            <a class="archive-btn" href="@Url.Action("Archive", "Campaign", new { ReturnUrl = Url.Action("Index", "Home"), id = item.CampaignID }, null)"><i class="fa fa-archive"></i></a>
                        </li>
                    </ul>
                </td>
            </tr>
        }
    </tbody>
</table>
}
